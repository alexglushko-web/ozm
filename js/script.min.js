"use strict";window.addEventListener("load",()=>{let e=(window.outerWidth-getComputedStyle(document.body).getPropertyValue("--containerWidth").split("px")[0])/2;document.body.style.setProperty("--sideIndent",e+"px");let t=document.querySelector("header"),s=t.querySelector(".header__container"),l=t.querySelector(".burger"),r=t.querySelector(".header__close"),i=t.querySelector(".header__top .header__menu"),o=(i.querySelector(".menu__list"),t.querySelector(".header__bottom")),c=t.querySelector(".header__bottom .header__nav"),a=t.querySelectorAll(".header__bottom .header__menu")[0],n=t.querySelectorAll(".header__bottom .header__menu")[1],d=t.querySelector(".menu__item._feedback"),_=t.querySelector(".menu__item._search");function u(){o.classList.remove("_active"),l.classList.remove("_active"),document.body.classList.remove("lock")}window.matchMedia("(max-width: 744px)").matches&&(n.querySelectorAll(".menu__item").forEach(e=>{i.querySelector(".menu__list").insertAdjacentElement("afterbegin",e)}),c.insertAdjacentElement("afterbegin",i),s.insertAdjacentElement("beforeend",_),n.parentNode.removeChild(n),a.querySelector(".menu__list").insertAdjacentElement("beforeend",d)),l.addEventListener("click",(function(){o.classList.toggle("_active"),l.classList.toggle("_active"),document.body.classList.toggle("lock")})),r.addEventListener("click",u),document.body.style.setProperty("--headerHeight",t.offsetHeight+"px"),document.addEventListener("click",e=>{e.composedPath().includes(o)||e.composedPath().includes(l)||u()});let m=document.querySelector(".menu").querySelectorAll(".menu__item");if(window.matchMedia("(min-width: 744.1px)").matches){m.forEach(e=>{let t=e.querySelector(".submenu");e.addEventListener("mouseover",()=>{document.querySelectorAll(".menu__item > .submenu").forEach(e=>{e.classList.remove("_active")}),t&&t.classList.add("_active")})}),t.addEventListener("mouseleave",()=>{document.querySelectorAll(".submenu").forEach(e=>{e.classList.remove("_active")})}),document.querySelectorAll(".menu__item > .submenu").forEach(e=>{let t=e.querySelectorAll(" .submenu__item");t.forEach(e=>{let s=e.querySelector(".submenu");e.addEventListener("click",()=>{t.forEach(e=>{let t=e.querySelector(".submenu");t&&t.classList.remove("_active")}),s&&s.classList.add("_active")})}),document.querySelectorAll(".submenu").forEach(e=>{e.addEventListener("mouseleave",()=>[e.classList.contains("_active")?e.classList.remove("_active"):""])})})}let v=document.querySelector(".modal"),h=document.querySelectorAll(".modal__btn"),b=v.querySelectorAll(".modal__window");h.forEach(e=>{let t=e.classList[e.classList.length-1];e.addEventListener("click",()=>{b.forEach(e=>{e.classList[e.classList.length-1]==t&&(v.classList.add("_active"),e.classList.add("_active"),document.body.style.overflow="hidden")})})}),b.forEach(e=>{e.querySelector(".modal__close").addEventListener("click",()=>{v.classList.remove("_active"),e.classList.remove("_active"),document.body.style.overflow=""}),v.addEventListener("click",t=>{t.composedPath().includes(e)||(v.classList.remove("_active"),e.classList.remove("_active"),document.body.style.overflow="")})}),document.querySelectorAll("form.form").forEach(e=>{e.querySelectorAll(".form__input");let t=e.querySelector("._name"),s=t.querySelector(".form__input"),l=t.querySelector(".form__placeholder"),r=e.querySelector("._phone"),i=r.querySelector(".form__input"),o=r.querySelector(".form__placeholder"),c=e.querySelector("._email"),a=e.querySelector(".form__checkbox"),n=a.querySelector("input"),d=e.querySelector(".form__send"),_=!0;function u(){_=!0,""==s.value?(_=!1,s.classList.add("_error")):s.classList.remove("_error"),""==i.value&&(_=!1,i.classList.add("_error")),c&&(!function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?(e.classList.remove("_error"),!0):(e.classList.add("_error"),e.scrollIntoView({behavior:"smooth",block:"center"}),!1)}(c.querySelector(".form__input"))?(_=!1,c.classList.add("_error")):c.classList.remove("_error")),n.checked?a.classList.remove("_error"):(_=!1,a.classList.add("_error")),0==_?(d.disabled=!0,console.log("false")):(d.disabled=!1,console.log("success"))}s.addEventListener("input",()=>{""!=s.value?l.style.display="none":l.style.display=""}),r.addEventListener("click",()=>{o.style.display="none"}),s.addEventListener("input",u),n.addEventListener("change",u),c&&c.querySelector(".form__input").addEventListener("input",u),$(i).mask("+7 (999) 999 99 99",{completed:function(){u(),i.classList.remove("_error")}}),e.addEventListener("click",e=>{e.composedPath().includes(r)||""==i.value&(n.checked||""!=s.value)&&(o.style.display="block",u())}),d.addEventListener("click",u)}),document.querySelectorAll(".file").forEach(e=>{let t=e.querySelector("input"),s=e.querySelector("label"),l=s.textContent;t.addEventListener("change",()=>{s.innerHTML=t.files[0].name,t.files.length>1?s.innerHTML=t.files[0].name+" . . . ":s.innerHTML=t.files[0].name,e.querySelector(".file__close")||e.insertAdjacentHTML("beforeend",'\n                <i class="icon-close file__close"></i>\n                '),e.querySelector(".file__close").addEventListener("click",()=>{s.innerHTML=l,e.removeChild(e.querySelector(".file__close")),t.type="text",t.type="file",t.value=""})})});let y=document.querySelectorAll(".search");y.length>0&&y.forEach(e=>{let t=e.querySelector(".search__btn"),s=e.querySelector(".search__wrapper"),l=(e.querySelector(".search__field"),e.querySelector(".search__input")),r=e.querySelector(".search__close"),i=e.querySelector(".search__clear");l.addEventListener("input",()=>{l.value.length>0?e.classList.add("_results"):e.classList.remove("_results")}),t&&t.addEventListener("click",()=>{e.classList.add("_active"),console.log("s")}),i&&i.addEventListener("click",()=>{l.value="",e.classList.remove("_results")}),r&&r.addEventListener("click",()=>{l.value="",e.classList.remove("_results"),e.classList.remove("_active")}),document.body.addEventListener("click",l=>{l.composedPath().includes(s)||l.composedPath().includes(t)||e.classList.remove("_active")})});let L=document.querySelector(".certification__slider"),f=L.querySelectorAll(".certification__item ");window.matchMedia("(max-width: 360px)").matches&&function(e,t,s=1){let l=e.parentNode;l.insertAdjacentHTML("beforeend",'<div class="big-list"><div class="big-slider"></div></div>');let r=l.querySelector(".big-list"),i=l.querySelector(".big-slider");r.insertAdjacentHTML("afterbegin",'<button class="big-close"><i class="icon-close"></i></button>'),r.querySelector(".big-close").addEventListener("click",()=>{r.classList.remove("_active")}),t.forEach(e=>{let t=e.cloneNode(!0);t.classList.add("big-item"),i.insertAdjacentElement("beforeend",t),e.addEventListener("click",()=>{r.classList.add("_active"),i.slick.refresh()})}),$(e).slick({slidesToShow:s,asNavFor:i,slidesToShow:3,arrows:!1,dots:!0,infinite:!0,responsive:[{breakpoint:744.1,settings:{slidesToShow:2}},{breakpoint:360.1,settings:{slidesToShow:1}}]}),$(i).slick({arrows:!0,dots:!1,slidesToShow:1,infinite:!0,asNavFor:e,prevArrow:'<button class="big-toggle _prev"><i class="icon-arrow-left"></i></button>',nextArrow:'<button class="big-toggle _next"><i class="icon-arrow-right"></i></button>'})}(L,f,3),$(".startpage__list").slick({arrows:!1,dots:!0,appendDots:".startpage__dots",slidesToShow:1,infinite:!0}),$(".production__slider").slick({arrows:!0,dots:!0,slidesToShow:1,infinite:!0,prevArrow:'<button class="production__toggle _prev"><i class="icon-arrow-left"></i></button>',nextArrow:'<button class="production__toggle _next"><i class="icon-arrow-right"></i></button>'}),$(".benefits__list").slick({arrows:!1,dots:!0,slidesToShow:1,infinite:!0,mobileFirst:!0,responsive:[{breakpoint:360,slidesToShow:2},{breakpoint:744,settings:"unslick"}]}),$(".about__slider").slick({arrows:!1,dots:!0,slidesToShow:1,infinite:!0}),$(".steps__slider").slick({arrows:!1,dots:!0,slidesToShow:1,infinite:!0}),$(".clients__list").slick({arrows:!1,dots:!1,slidesToShow:1,infinite:!0,mobileFirst:!0,responsive:[{breakpoint:360,settings:{slidesToShow:2}},{settings:"unslick",breakpoint:744}]}),$(".decisions__slider").slick({arrows:!1,dots:!0,slidesToShow:1,infinite:!0}),$(".news__list").slick({mobileFirst:!0,arrows:!1,dots:!0,slidesToShow:1,infinite:!0,responsive:[{breakpoint:360,settings:{slidesToShow:2}},{breakpoint:744,settings:"unslick"}]});let S=document.querySelectorAll(".news__item"),p=[];function q(e){let t=e.querySelectorAll(".tabs__head > .tabs__title"),s=e.querySelectorAll(".tabs__body > .tabs__item"),l=e.parentNode.querySelector(".tabs > .tabs__head"),r=e.parentNode.querySelector("h1.title");if(t.forEach(l=>{l.addEventListener("click",()=>{for(let r=0;r<t.length;r++)if(t[r]==l){let l=s[r].querySelector(".tabs__title"),i=s[r].querySelector(".tabs__item");l&&l.classList.add("_active"),i&&i.classList.add("_active"),t[r].classList.add("_active"),s[r].classList.add("_active");let o=e.querySelectorAll(".slick-slider");o&&o.forEach(e=>{e.slick.refresh()})}else t[r].classList.remove("_active"),s[r].classList.remove("_active")})}),l.offsetWidth<l.scrollWidth){r.insertAdjacentHTML("beforeend",'\n            <div class="tabs__toggler">\n                <button class="tabs__toggle _prev _disabled"><i class="icon-arrow-left"></i></button>\n                <button class="tabs__toggle _next"><i class="icon-arrow-right"></i></button>\n            </div>\n            ');let e=r.querySelector(".tabs__toggle._prev"),t=r.querySelector(".tabs__toggle._next");e.addEventListener("click",()=>{l.scrollLeft-=200,t.classList.remove("_disabled"),setTimeout(()=>{0==l.scrollLeft?e.classList.add("_disabled"):e.classList.remove("_disabled"),console.log(l.scrollLeft)},201)}),t.addEventListener("click",()=>{l.scrollLeft+=200,e.classList.remove("_disabled"),setTimeout(()=>{l.scrollLeft==l.scrollWidth-l.offsetWidth?t.classList.add("_disabled"):t.classList.remove("_disabled")},201)}),l.addEventListener("scroll",()=>{l.scrollLeft==l.scrollWidth-l.offsetWidth?t.classList.add("_disabled"):0==l.scrollLeft?e.classList.add("_disabled"):(t.classList.remove("_disabled"),e.classList.remove("_disabled"))})}}Array.prototype.max=function(){return Math.max.apply(null,this)},S.forEach(e=>{p.push(e.offsetHeight)}),S.forEach(e=>{e.style.height=p.max()+"px"}),document.querySelectorAll(".dropdown").forEach(e=>function(e){let t=e.querySelector(".dropdown__title_text"),s=e.querySelectorAll(".dropdown__item");t.addEventListener("click",()=>{if(e.classList.toggle("_open"),e.classList.contains("_open")){let t=e.querySelector(".slick-slider");t&&t.slick.refresh()}}),s&&s.forEach(l=>{l.addEventListener("click",()=>{t.textContent=l.textContent,s.forEach(e=>{e.classList.remove("_active")}),l.classList.add("_active"),e.classList.remove("_open")})});document.addEventListener("click",t=>{t.composedPath().includes(e)||e.classList.remove("_open")})}(e)),document.querySelectorAll(".tabs").forEach(e=>q(e));let w=document.querySelector(".decisions__tabs").querySelectorAll(".decisions__tabs .tabs__item");function g(){window.matchMedia("(max-width: 1440px)").matches,window.matchMedia("(max-width: 1024px)").matches,window.matchMedia("(max-width: 768px)").matches,window.matchMedia("(max-width: 576px)").matches,window.matchMedia("(max-width: 360px)").matches}w.forEach(e=>{let t=[e.querySelector(".decisions__info"),e.querySelector(".decisions__list")];!function(e,t,s){e.innerHTML='\n            <div class="tabs">\n                <div class="tabs__head"></div>\n                <div class="tabs__body"></div>\n            </div>\n        ';let l=e.querySelector(".tabs__head"),r=e.querySelector(".tabs__body");s.forEach(e=>{l.insertAdjacentHTML("beforeend",`<h3 class="tabs__title">${e}</h3>`)}),t.forEach(e=>{e.classList.add("tabs__item"),r.insertAdjacentElement("beforeend",e)}),e.querySelectorAll(".tabs__title")[0].classList.add("_active"),e.querySelectorAll(".tabs__item")[0].classList.add("_active")}(e,t,["Фото","Описание"])}),w.forEach(e=>q(e.querySelector(".tabs"))),g(),window.addEventListener("resize",g)});